"use strict";!function(){var a=null,b=null,c=null,d=function(a){return function(b){return 0===arguments.length?this.get(a):void this.set(a,b)}},e=function(d){var e=function(b,c,e){var f=new WorldCupBracket.Collections.Match;return d[b].forEach(function(d,g){f.add({id:b+g,date:new Date(d[1]),matchNum:2*e+16*Math.floor(g/2)+g%2+1},{home:c[d[0][0]],guest:c[d[0][1]],stadium:a.get(d[2])})}),f};["A","B","C","D","E","F","G","H"].forEach(function(a,d){var f=b.slice(4*d,4*d+4),g=new l.Models.Group({id:a},{teams:f,matches:e(a,f,d)});c.add(g);var h=new l.Views.Group({model:g,el:$(".group--"+a.toLowerCase())});h.render()})},f=function(){var b=new WorldCupBracket.Views.StadiumView({model:WorldCupBracket.Models.Stadium,collection:a});b.render();var c=new WorldCupBracket.Views.StadiumTable({collection:a});c.render()},g=function(a,b){return"finals"===a?0===b?"consolation":"final":{bestOf16:"bo16",quarterFinals:"qf",semiFinals:"sf"}[a]+"-"+(b+1)},h=function(a,b){return"finals"===a?0===b?"platz 3":"finale":{bestOf16:"AF",quarterFinals:"VF",semiFinals:"HF"}[a]+" "+(b+1)},i=function(){new l.Views.Champion},j=function(b,c,d,e){var f=new l.Collections.Match;return c.forEach(function(c,i){var j=g(b,i),k=new l.Models.Match({id:j,date:new Date(c[1]),home:c[0][0],guest:c[0][1],matchNum:d+i},{stadium:a.get(c[2])});f.add(k);var m;m="consolation"===j?new l.Views.ConsolationMatch({id:h(b,i),model:k,semiFinals:e,el:$("#"+j)}):new l.Views.KnockoutMatch({id:h(b,i),model:k,el:$("#"+j)}),m.render()}),f},k=_.extend({},Backbone.Events),l=window.WorldCupBracket={Models:{},Collections:{},Views:{},Routers:{},Mixins:{accessor:d},matchEvents:k,init:function(d){a=new l.Collections.Stadium,a.reset(d.stadiums),b=new l.Collections.Team,b.reset(d.teams),c=new l.Collections.Group;var g=49,h=[];_.pairs(d.knockoutMatches).forEach(function(a){g+=h.length,a.push(g),a.push(h),h=j.apply(this,a)}.bind(this)),e(d.groupMatches),i(),f(),window.setTimeout(function(){$(".stadium-highlightable").hover(function(){var a=$(this);$(".stadium-highlightable").each(function(){$(this).data("stadium")===a.data("stadium")&&$(this).addClass("stadium-highlighted")})},function(){$(".stadium-highlighted").removeClass("stadium-highlighted")})},800)}}}(),this.JST=this.JST||{},this.JST["app/scripts/templates/champion.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="hexagon hexagon--half">\n  <img src="images/trophy.svg" alt="" />\n</div>\n<input type="text" disabled value="',(f=c.champion)?f=f.call(b,{hash:{},data:e}):(f=b&&b.champion,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'">\n<h2>Weltmeister</h2>\n<h2>2014</h2>\n'}),this.JST["app/scripts/templates/group-match.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<td class="match__day">',(f=c.day)?f=f.call(b,{hash:{},data:e}):(f=b&&b.day,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</td>\n<td class="match__date">',(f=c.date)?f=f.call(b,{hash:{},data:e}):(f=b&&b.date,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</td>\n<td class="match__time">',(f=c.time)?f=f.call(b,{hash:{},data:e}):(f=b&&b.time,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</td>\n<td class="match__city stadium-highlightable" data-stadium="',(f=c.stadium)?f=f.call(b,{hash:{},data:e}):(f=b&&b.stadium,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'">',(f=c.city)?f=f.call(b,{hash:{},data:e}):(f=b&&b.city,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</td>\n<td class="match__teams">',(f=c.home)?f=f.call(b,{hash:{},data:e}):(f=b&&b.home,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+"&nbsp;&ndash;&nbsp;",(f=c.guest)?f=f.call(b,{hash:{},data:e}):(f=b&&b.guest,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</td>\n<td class="match__results group__border">\n	<input class="goals goals--home" type="number" value="',(f=c.homeGoals)?f=f.call(b,{hash:{},data:e}):(f=b&&b.homeGoals,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" tabindex="',(f=c.tabIndex)?f=f.call(b,{hash:{},data:e}):(f=b&&b.tabIndex,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" />\n	<span class="group__text">|</span>\n	<input class="goals goals--guest" type="number" value="',(f=c.guestGoals)?f=f.call(b,{hash:{},data:e}):(f=b&&b.guestGoals,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" tabindex="',(f=c.tabIndex)?f=f.call(b,{hash:{},data:e}):(f=b&&b.tabIndex,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" />\n</td>\n'}),this.JST["app/scripts/templates/group.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="group__border group__border--main">\n	<h2 class="group__name">',(f=c.name)?f=f.call(b,{hash:{},data:e}):(f=b&&b.name,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</h2>\n	<h3 class="group__teams">',(f=c.teams)?f=f.call(b,{hash:{},data:e}):(f=b&&b.teams,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</h3>\n	<table class="group__table"></table>\n</div>\n<div class="group__rank">\n	<label class="group__background" for="',(f=c.idFirst)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idFirst,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" class="group__id">',(f=c.idFirst)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idFirst,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</label>\n	<input class="group__border" type="text" id="',(f=c.idFirst)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idFirst,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" value="" disabled>\n</div>\n<div class="group__rank">\n	<label class="group__background" for="',(f=c.idSecond)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idSecond,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" class="group__id">',(f=c.idSecond)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idSecond,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</label>\n	<input class="group__border" type="text" id="',(f=c.idSecond)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idSecond,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" value="" disabled>\n</div>\n'}),this.JST["app/scripts/templates/knockout-match.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="match__id">',(f=c.id)?f=f.call(b,{hash:{},data:e}):(f=b&&b.id,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</div>\n<div class="match__teams">\n	<span class="match__teams--home">',(f=c.home)?f=f.call(b,{hash:{},data:e}):(f=b&&b.home,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+':</span><span class="match__teams--guest">',(f=c.guest)?f=f.call(b,{hash:{},data:e}):(f=b&&b.guest,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</span>\n</div>\n<div class="match__team-fields">\n	<input type="text" class="group__border group__border--home group__border--bottom" disabled id="',(f=c.idHome)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idHome,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" value="',(f=c.homeName)?f=f.call(b,{hash:{},data:e}):(f=b&&b.homeName,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'">\n	<input type="text" class="group__border group__border--guest group__border--bottom" disabled id="',(f=c.idGuest)?f=f.call(b,{hash:{},data:e}):(f=b&&b.idGuest,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" value="',(f=c.guestName)?f=f.call(b,{hash:{},data:e}):(f=b&&b.guestName,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'">\n</div>\n<div class="match__results match__results--knockout',(f=c.isDraw)?f=f.call(b,{hash:{},data:e}):(f=b&&b.isDraw,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'">\n	<input class="goals goals--home group__border group__border--home group__border--bottom" type="number" value="',(f=c.homeGoals)?f=f.call(b,{hash:{},data:e}):(f=b&&b.homeGoals,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" tabindex="',(f=c.tabIndex)?f=f.call(b,{hash:{},data:e}):(f=b&&b.tabIndex,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" />\n	<span class="group__text"> : </span>\n	<input class="goals goals--guest group__border group__border--guest group__border--bottom" type="number" value="',(f=c.guestGoals)?f=f.call(b,{hash:{},data:e}):(f=b&&b.guestGoals,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" tabindex="',(f=c.tabIndex)?f=f.call(b,{hash:{},data:e}):(f=b&&b.tabIndex,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'" />\n</div>\n<div class="cf">\n	<div class="match__date">',(f=c.date)?f=f.call(b,{hash:{},data:e}):(f=b&&b.date,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</div>\n	<div class="match__time">',(f=c.time)?f=f.call(b,{hash:{},data:e}):(f=b&&b.time,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</div>\n</div>\n<span class="match__city stadium-highlightable" data-stadium="',(f=c.stadium)?f=f.call(b,{hash:{},data:e}):(f=b&&b.stadium,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'">',(f=c.city)?f=f.call(b,{hash:{},data:e}):(f=b&&b.city,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+"</span>\n"}),this.JST["app/scripts/templates/stadium.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<tr class="stadium-highlightable" data-stadium="',(f=c.name)?f=f.call(b,{hash:{},data:e}):(f=b&&b.name,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'">\n	<td class="stadium-table--id">',(f=c.id)?f=f.call(b,{hash:{},data:e}):(f=b&&b.id,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</td>\n	<td class="stadium-table--city">',(f=c.city)?f=f.call(b,{hash:{},data:e}):(f=b&&b.city,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+'</td>\n	<td class="stadium-table--name">',(f=c.name)?f=f.call(b,{hash:{},data:e}):(f=b&&b.name,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+"</td>\n</tr>\n"}),WorldCupBracket.Models=WorldCupBracket.Models||{},function(){var a=WorldCupBracket.Mixins.accessor;WorldCupBracket.Models.Team=Backbone.Model.extend({url:"",initialize:function(){},defaults:{},validate:function(){},parse:function(a){return a},"short":function(){return this.get("short")||this.get("name")},points:a("points"),name:a("name"),goals:a("goals"),goalDif:a("goalDif"),addGoals:function(a){this.goals(this.goals()+a)},addGoalDif:function(a){this.goalDif(this.goalDif()+a)},addPoints:function(a){this.points(this.points()+a)}})}(),WorldCupBracket.Models=WorldCupBracket.Models||{},function(){var a=WorldCupBracket.Mixins.accessor;WorldCupBracket.Models.Match=Backbone.Model.extend({url:"",initialize:function(a,b){b=b||{},this._home=b.home,this._guest=b.guest,this._stadium=b.stadium,this.on("change:result",this.persistResult,this),this.loadResults()},defaults:{},validate:function(){},parse:function(a){return a},home:function(a){return a?(this.trigger("team team:home",a),void(this._home=a)):this._home},guest:function(a){return a?(this.trigger("team team:guest",a),void(this._guest=a)):this._guest},stadium:function(a){return a?void(this._stadium=a):this._stadium},result:function(){var a=Array.prototype.slice.call(arguments,0),b=new Error("Expected either no arguments, Array of length 2, or two Numbers");switch(arguments.length){case 0:return this.get("result");case 1:if(!_.isArray(a[0])||2!==a[0].length)throw b;this.set("result",a[0]);break;case 2:this.set("result",a);break;default:throw b}},persistResult:function(a,b,c){if(c.skipPersist!==!0){localStorage.results=localStorage.results||"{}";var d=JSON.parse(localStorage.results);d[this.id]=this.get("result"),localStorage.results=JSON.stringify(d)}},loadResults:function(){try{var a=JSON.parse(localStorage.results);a[this.id]&&this.set("result",a[this.id],{skipPersist:!0})}catch(b){}},finished:function(){var a=this.get("result");return _.isArray(a)&&2===a.length&&_.isNumber(a[0])&&!isNaN(a[0])&&_.isNumber(a[1])&&!isNaN(a[1])},points:function(){if(this.finished()){var a=this.result(),b=a[0],c=a[1];return b>c?[3,0]:c>b?[0,3]:[1,1]}},matchNum:a("matchNum")})}(),WorldCupBracket.Models=WorldCupBracket.Models||{},function(){var a=WorldCupBracket.Mixins.accessor;WorldCupBracket.Models.Stadium=Backbone.Model.extend({url:"",initialize:function(){},defaults:{},validate:function(){},parse:function(a){return a},isHighlighted:a})}(),WorldCupBracket.Models=WorldCupBracket.Models||{},function(){WorldCupBracket.Models.Group=Backbone.Model.extend({initialize:function(a,b){this.teams=new WorldCupBracket.Collections.Team(b.teams,{comparator:function(a,b){return a.points()!==b.points()?b.points()-a.points():a.goalDif()!==b.goalDif()?a.goalDif()>b.goalDif()?-1:1:a.goals()!==b.goals()?b.goals()-a.goals():void 0}}),this.matches=b.matches,this.matches.on("change:result",_.debounce(this.updateTable,100),this)},defaults:{},validate:function(){},parse:function(a){return a},finished:function(){return this.matches.reduce(function(a,b){return a&&b.finished()},!0)},updateTable:function(){this.teams.each(function(a){a.points(0),a.goals(0),a.goalDif(0)}),this.matches.each(function(a){if(a.finished()){var b=a.points();a.home().addPoints(b[0]),a.guest().addPoints(b[1]);var c=a.result();a.home().addGoals(c[0]),a.guest().addGoals(c[1]),a.home().addGoalDif(c[0]-c[1]),a.guest().addGoalDif(c[1]-c[0])}}),this.teams.sort(),this.finished()&&(WorldCupBracket.matchEvents.trigger(this.id+"1",this.id+"1",this.teams.at(0)),WorldCupBracket.matchEvents.trigger(this.id+"2",this.id+"2",this.teams.at(1)))}})}(),WorldCupBracket.Collections=WorldCupBracket.Collections||{},function(){WorldCupBracket.Collections.Stadium=Backbone.Collection.extend({model:WorldCupBracket.Models.Stadium})}(),WorldCupBracket.Collections=WorldCupBracket.Collections||{},function(){WorldCupBracket.Collections.Group=Backbone.Collection.extend({model:WorldCupBracket.Models.Group})}(),WorldCupBracket.Collections=WorldCupBracket.Collections||{},function(){WorldCupBracket.Collections.Team=Backbone.Collection.extend({model:WorldCupBracket.Models.Team})}(),WorldCupBracket.Views=WorldCupBracket.Views||{},function(){WorldCupBracket.Views.Group=Backbone.View.extend({template:JST["app/scripts/templates/group.hbs"],tagName:"div",id:"",events:{},initialize:function(){this.listenTo(this.model,"change",this.render),[this.idFirst(),this.idSecond()].forEach(function(){}.bind(this))},render:function(){this.$el.html(this.template(this));var a=this.$el.find(".group__table");return this.model.matches.each(function(b){var c=new WorldCupBracket.Views.GroupMatch({model:b});a.append(c.render().el)}),this.model.updateTable(),this},name:function(){return"Gruppe "+this.model.id},teams:function(){return this.model.teams.map(function(a){return a.get("name")}).join(" | ")},idFirst:function(){return this.model.id+"1"},idSecond:function(){return this.model.id+"2"},setWinners:function(a,b){this.$el.find("#"+a).val(b.name())}})}(),WorldCupBracket.Collections=WorldCupBracket.Collections||{},function(){WorldCupBracket.Collections.Match=Backbone.Collection.extend({model:WorldCupBracket.Models.Match}),WorldCupBracket.Collections.Match.bestOf16=function(){}}(),WorldCupBracket.Views=WorldCupBracket.Views||{},function(){var a=function(a){return a=parseInt(a,10),10>a?"0"+a:a},b=["So","Mo","Di","Mi","Do","Fr","Sa"],c=Backbone.View.extend({events:{"change .goals":"setResult"},initialize:function(){},render:function(){return this.$el.html(this.template(this)),this},day:function(){var a=this.model.get("date"),c=a.getDay();return b[c]+"."},date:function(){var b=this.model.get("date");return a(b.getDate())+"."+a(b.getMonth()+1)},time:function(){var b=this.model.get("date");return a(b.getHours())+":"+a(b.getMinutes())},stadium:function(){return this.model.stadium().get("name")},city:function(){return this.model.stadium().get("city").replace(/ /g," ")},home:function(){return this.model.home().short()},guest:function(){return this.model.guest().short()},homeGoals:function(){return(this.model.result()||["",""])[0]},guestGoals:function(){return(this.model.result()||["",""])[1]},setResult:function(){var a=this.$el.find(".goals"),b=a.map(function(){return Number.parseInt($(this).val(),10)});this.model.result(b.get())},tabIndex:function(){return this.model.matchNum()}});WorldCupBracket.Views.GroupMatch=c.extend({template:JST["app/scripts/templates/group-match.hbs"],tagName:"tr",className:"match match--group"});var d=WorldCupBracket.Views.KnockoutMatch=c.extend({template:JST["app/scripts/templates/knockout-match.hbs"],initialize:function(){c.prototype.initialize.apply(this,arguments),[this.model.get("home"),this.model.get("guest")].forEach(function(a){this.listenTo(WorldCupBracket.matchEvents,a,this.setTeam)}.bind(this));var a=_.debounce(this.publishWinner,10);this.model.on("change:result",a,this),this.model.on("team",a,this)},home:function(){return this.model.get("home")},guest:function(){return this.model.get("guest")},idHome:function(){return this.id+"-home"},idGuest:function(){return this.id+"-guest"},homeName:function(){return void 0!==this.model.home()?this.model.home().short():void 0},guestName:function(){return void 0!==this.model.guest()?this.model.guest().short():void 0},setTeam:function(a,b){a===this.model.get("home")?this.model.home(b):a===this.model.get("guest")&&this.model.guest(b),this.render()},publishWinner:function(){if(this.model.finished()){var a=this.model.result(),b=this.model.home(),c=this.model.guest();this.$el.find(".match__results--knockout").removeClass("match__results--knockout__draw"),a[0]>a[1]&&void 0!==b?WorldCupBracket.matchEvents.trigger(this.id,this.id,b):a[0]<a[1]?WorldCupBracket.matchEvents.trigger(this.id,this.id,c):a[0]===a[1]&&this.$el.find(".match__results--knockout").addClass("match__results--knockout__draw")}},isDraw:function(){if(this.model.finished()){var a=this.model.result();if(a[0]===a[1])return"match__results--knockout__draw"}return""}});WorldCupBracket.Views.ConsolationMatch=d.extend({initialize:function(a){d.prototype.initialize.apply(this,arguments),this.semiFinals=a.semiFinals},setTeam:function(){if(this.semiFinals.models[0].finished()&&this.semiFinals.models[0].finished()){var a=[this.semiFinals.models[0].attributes.result,this.semiFinals.models[1].attributes.result],b=[];b[0]=a[0][0]>a[0][1]?this.semiFinals.models[0].guest():this.semiFinals.models[0].home(),b[1]=a[1][0]>a[1][1]?this.semiFinals.models[1].guest():this.semiFinals.models[1].home(),this.model.home(b[0]),this.model.guest(b[1])}this.render()}})}(),WorldCupBracket.Views=WorldCupBracket.Views||{},function(){var a=[[null,null,null,"",null,null,"",null,null],[null,"","","","","",null,null,null],[null,null,"","12","","","","01","02"],["","","","","","","","","03"],[null,null,null,"","","","","04",""],[null,null,null,"11","","10","","",null],[null,null,null,null,"","","","","05"],[null,null,null,null,"","","07","06",null],[null,null,null,null,null,null,"08",null,null],[null,null,null,null,"","",null,null,null],[null,null,null,null,null,"09",null,null,null]];WorldCupBracket.Views.StadiumView=Backbone.View.extend({el:$(".stadium-view"),events:{},render:function(){var b=this;$.each(a,function(a,c){b.$el.append('<div class="stadium--row stadium--row__'+a+'"></div>'),$.each(c,function(c,d){switch(d){case null:b.$el.find(".stadium--row__"+a).append('<div class="stadium--hexagon stadium--hexagon--pusher"></div>');break;case"":b.$el.find(".stadium--row__"+a).append('<div class="stadium--hexagon stadium--hexagon--blank"><div class="stadium--hexagon--inner"></div></div>');break;default:var e=b.collection._byId[d];b.$el.find(".stadium--row__"+a).append('<div class="stadium--hexagon stadium--hexagon--stadium stadium-highlightable" data-stadium="'+e.get("name")+'"><div class="stadium--hexagon--inner">'+d+"</div></div>")}})})}}),WorldCupBracket.Views.StadiumTable=Backbone.View.extend({el:$(".stadium-table"),events:{},render:function(){var a=this;this.collection.each(function(b){a.$el.append(new WorldCupBracket.Views.StadiumTableTr({model:b}).render())})}}),WorldCupBracket.Views.StadiumTableTr=Backbone.View.extend({template:JST["app/scripts/templates/stadium.hbs"],render:function(){return this.template({id:this.model.get("id"),city:this.model.get("city"),name:this.model.get("name")})}})}(),WorldCupBracket.Views=WorldCupBracket.Views||{},function(){WorldCupBracket.Views.Champion=Backbone.View.extend({template:JST["app/scripts/templates/champion.hbs"],initialize:function(){var a=this;this.listenTo(WorldCupBracket.matchEvents,"finale",function(b,c){console.log("listend to finale",c),a.champion=c.name(),this.render()})},render:function(){$(".hexagon__content#champion").html(this.template({champion:this.champion}))},champion:""})}();